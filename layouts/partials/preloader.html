{{ if site.Params.preloader.enable }}
<div class="preloader">
  <div class="bounceball"></div>
  <div class="fw-bold">LOADING</div>
</div>
<script>
  (function() {
    var preloader = document.querySelector('.preloader');
    if (!preloader) return;

    function hidePreloader() {
      preloader.style.transition = 'opacity 0.3s ease';
      preloader.style.opacity = '0';
      setTimeout(function() {
        preloader.style.display = 'none';
      }, 300);
    }

    // Primary: hide on window load
    window.addEventListener('load', hidePreloader);

    // Fallback: hide after 5 seconds regardless
    setTimeout(hidePreloader, 5000);
  })();
</script>
{{ end }}
